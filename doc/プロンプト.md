あなたは Next.js と TypeScript に精通したプロフェッショナルなフロントエンドエンジニア です。
以下の仕様に基づいて、アプリケーションの 開発手順書と実装コード を提示してください。

## 目的
英単語と日本語訳のペアを記載した複数のCSVファイルを利用して、
ユーザに単語クイズを出題・回答させるWebアプリケーションを開発する。

## 前提条件
* 開発環境: Windows PC
* フロントエンドフレームワーク: Next.js
* 言語: TypeScript
* データソース: Windows上の固定ディレクトリ内にあるCSVファイル
* 利用端末: 同一ネットワーク上の iPhone 16e（ブラウザからアクセス）
* バックエンドAPI: CSVファイル一覧の取得と内容読み込みを提供

## アプリ概要
CSVファイル（英単語・日本語の2列構成）を読み込み、
以下の2種類のクイズを出題するアプリを作成する：

1. 英単語問題：英単語を出題し、日本語訳を選ばせる
2. 日本語問題：日本語を出題し、対応する英単語を選ばせる

## アプリの動作仕様
### 1. CSVファイル選択画面（コンポーネント①）
* 固定の csv ディレクトリ内にある CSV ファイルを一覧表示
* 任意のファイルを選択可能
* バリデーション要件:
  * 列が2列（英語・日本語）で構成されていない場合 → 警告 & 終了処理
  * 行数が 5～200 の範囲外の場合 → 警告 & 終了処理
* 選択したファイル名をユーザに明示
* ファイル選択後、出題モード選択画面へ遷移

### 2. 出題モード選択画面（コンポーネント②）
* 「英単語問題」または「日本語問題」を選択できるUIを配置
* 選択状態が視覚的にわかるようにする
* 「確定」ボタンで問題出題画面に遷移

### 3. 問題出題画面（コンポーネント③）
* ヘッダにタイトル：「同じ意味のペアをタップしてください」
* 左側：問題となる単語
* 右側：回答用の選択肢ボタン（左側にある単語群に対応するものを表示）
* 1画面に最大10問を縦に並べて表示
* 回答後、正誤フィードバックを表示

### 追加要件：
* 一度出題された問題は、全問出題が完了するまで再出題しない
* 全問終了後：
  * 総問題数、正答数・誤答数を表示
  * 間違えた問題のみを再出題
  * 全問正解になるまで繰り返す
* 画面上に「CSVファイル選択に戻る」「出題モード選択に戻る」ボタンを配置
* フィードバックは自動的に数秒後に消える形式
  * 正解のときは1秒。不正解のときは3秒表示する
  * 不正解のときは、正しい答えをフィードバックに表示する

## アプリ全体の状態管理
* 状態管理ライブラリ（例：jotai）を利用して以下を保持
  * 現在選択中のCSVファイル名
  * 出題モード（英語問題 / 日本語問題）
  * 現在の問題リストと進捗状況
  * 誤答履歴

## アプリ全体のUI
* 問題出題画面は添付画像のようなレイアウトにしてください
* モダンなUIにしてください。必要に応じてTailwind CSSのようなCSSフレームワークを使っても良いです

## 期待する出力内容
### 1. アプリを動作させるまでの手順書
* 必要なライブラリのインストール
* Next.js + TypeScript の初期設定
* APIエンドポイントの実装方法
* 開発サーバーの起動方法
### 2. ソースコード一式（主要ファイル）
* pages/ または app/ ディレクトリ構成例
* コンポーネントファイルのサンプルコード（CSV選択・モード選択・問題出題・結果表示）
* CSV読み込みAPI（Node.jsでファイル操作）
* 状態管理の実装例
* UIのスタイリング例（簡易的なものでOK）
### 3. 動作説明
* 各コンポーネント間のデータフロー
* 主要関数や型定義の説明
* フィードバック機能の動作説明

## 出力形式の指示
出力は以下の順で構成してください：
1. 概要（どんなアプリができるかの説明）
2. 環境構築手順
3. ディレクトリ構成
4. コード一式（主要部分を含む）
5. 起動・利用方法
6. 拡張提案（UI改善や機能追加案）

## その他要件
* コードは読みやすくコメント付きで記述してください
* UIはシンプルで、iPhoneでも見やすいレスポンシブデザインを意識
* 適宜、エラーハンドリングと例外処理を行うこと

## 最後に
この仕様に基づき、プロがそのまま開発を進められるレベルの手順とコードを提示してください。

